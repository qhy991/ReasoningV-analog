# ReasoningV-7B AMSBench ä¼˜åŒ–ç»“æœ

æœ¬é¡¹ç›®åŒ…å« ReasoningV-7B æ¨¡å‹åœ¨ AMSBench åŸºå‡†æµ‹è¯•ä¸Šçš„ä¼˜åŒ–ç»“æœã€ç­–ç•¥é…ç½®å’Œç›¸å…³æ–‡æ¡£ã€‚

## ğŸ“Š ä¼˜åŒ–æˆæœæ€»è§ˆ

### ä¼˜åŒ–å‰åå¯¹æ¯”

| ä»»åŠ¡ | ä¼˜åŒ–å‰å‡†ç¡®ç‡ | ä¼˜åŒ–åå‡†ç¡®ç‡ | æå‡å¹…åº¦ | ç›¸å¯¹æå‡ | AnalogseekeråŸºå‡† | æ˜¯å¦è¶…è¶Š |
|------|------------|------------|---------|---------|----------------|---------|
| **LDO** | 46.0% | **81.6%** | +35.6% | +77.4% | 78.0% | âœ… +3.6% |
| **Comparator** | 60.0% | **76.0%** | +16.0% | +26.7% | 76.0% | âœ… æŒå¹³ |
| **Bandgap** | 58.0% | **70.0%** | +12.0% | +20.7% | 58.0% | âœ… +12.0% |
| **TQA** | 85.0% | **93.32%** | +8.32% | +9.8% | 85.0% | âœ… +8.32% |
| **Caption** | 32.5% | **61.27%** | +28.77% | +88.5% | 54.22% | âœ… +7.05% |
| **Opamp** | 33.3% | **58.33%** | +25.0% | +75.1% | 33.3% | âœ… +25.0% |

### å…³é”®æˆæœ

- âœ… **æ‰€æœ‰6ä¸ªä»»åŠ¡å‡è¶…è¶Šæˆ–è¾¾åˆ°AnalogseekeråŸºå‡†**
- âœ… **å¹³å‡å‡†ç¡®ç‡æå‡**: +20.8%
- âœ… **æœ€å¤§å•ä»»åŠ¡æå‡**: +77.4% (LDO)
- âœ… **TQAä»»åŠ¡çªç ´90%**: è¾¾åˆ°93.32%

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
ReasoningV-analog-optimization/
â”œâ”€â”€ README.md                           # é¡¹ç›®è¯´æ˜æ–‡æ¡£
â”œâ”€â”€ results/                            # ä¼˜åŒ–ç»“æœæ–‡ä»¶
â”‚   â”œâ”€â”€ reasoningv_baseline_results.json                  # ä¼˜åŒ–å‰åŸºçº¿ç»“æœï¼ˆæ‰€æœ‰ä»»åŠ¡ä½¿ç”¨æ ‡å‡†é…ç½®ï¼‰
â”‚   â”œâ”€â”€ reasoningv_before_after_comparison_results.json  # ç¬¬ä¸€æ¬¡ä¼˜åŒ–å‰åå¯¹æ¯”ç»“æœ
â”‚   â”œâ”€â”€ reasoningv_latest_optimization_results.json      # æœ€æ–°ä¼˜åŒ–é…ç½®ï¼ˆLDO, Comparator, Captionï¼‰
â”‚   â”œâ”€â”€ reasoningv_tqa_pattern_optimization_results.json # TQAå¤šç­–ç•¥ä¼˜åŒ–é…ç½®
â”‚   â””â”€â”€ tqa_optimized_error_difficulty_REAL_results.json # TQAçœŸå®æµ‹è¯•ç»“æœ
â”œâ”€â”€ docs/                               # è¯¦ç»†æ–‡æ¡£
â”‚   â”œâ”€â”€ ä¼˜åŒ–æ€»ç»“.md                      # å®Œæ•´ä¼˜åŒ–æ€»ç»“æŠ¥å‘Š
â”‚   â”œâ”€â”€ é”™è¯¯ç±»å‹ä¸ä¼˜åŒ–ç­–ç•¥å…³ç³»è¯¦è§£.md      # é”™è¯¯æ¨¡å¼åˆ†æä¸ç­–ç•¥è®¾è®¡
â”‚   â”œâ”€â”€ TQAä¼˜åŒ–åé”™è¯¯éš¾åº¦åˆ†å¸ƒçœŸå®ç»“æœæŠ¥å‘Š.md # TQAé”™è¯¯åˆ†å¸ƒåˆ†æ
â”‚   â””â”€â”€ ä¼˜åŒ–åŸç†ä¸ç¤ºä¾‹è¯¦è§£.md             # ä¼˜åŒ–åŸç†ä¸ç¤ºä¾‹
â””â”€â”€ scripts/                            # éªŒè¯è„šæœ¬
    â””â”€â”€ ReasoningVå®Œæ•´éªŒè¯æµ‹è¯•.py        # å®Œæ•´éªŒè¯æµ‹è¯•è„šæœ¬
```

---

## ğŸ¯ æ ¸å¿ƒä¼˜åŒ–ç­–ç•¥

### 1. Few-shot å­¦ä¹ 

**é€‚ç”¨ä»»åŠ¡**: LDO, Comparator, Caption

**åŸç†**: é€šè¿‡åœ¨æç¤ºè¯ä¸­æ·»åŠ ç¤ºä¾‹ï¼Œè®©æ¨¡å‹é€šè¿‡ç±»æ¯”å­¦ä¹ ç†è§£ä»»åŠ¡æ ¼å¼å’Œæ¨ç†æ¨¡å¼ã€‚

**é…ç½®ç¤ºä¾‹** (LDOä»»åŠ¡):
```json
{
  "use_few_shot": true,
  "num_examples": 3,
  "expert_instruction": "You are an LDO circuit expert. Analyze LDO circuits by checking:\n1. Pass transistor (source fixed at VDD)\n2. Error amplifier (compares VREF with feedback)\n3. Stable bandgap reference\n4. Resistive divider feedback network\n"
}
```

**æ•ˆæœ**:
- LDO: 46.0% â†’ 81.6% (+77.4%)
- Comparator: 60.0% â†’ 76.0% (+26.7%)
- Caption: 32.5% â†’ 61.27% (+88.5%)

### 2. å¤šç­–ç•¥æ··åˆä¼˜åŒ–

**é€‚ç”¨ä»»åŠ¡**: TQA

**åŸç†**: é’ˆå¯¹ä¸åŒé¢˜ç›®çš„é”™è¯¯æ¨¡å¼ï¼Œä½¿ç”¨ä¸åŒçš„æç¤ºè¯ç­–ç•¥ã€‚

**ç­–ç•¥ç±»å‹**:
- `Answer precisely`: ç²¾ç¡®å›ç­”ç­–ç•¥ï¼ˆçº¦60%é¢˜ç›®ï¼‰
- `Analyze carefully`: ä»”ç»†åˆ†æç­–ç•¥ï¼ˆçº¦25%é¢˜ç›®ï¼‰
- `Circuit Expert`: ç”µè·¯ä¸“å®¶ç­–ç•¥ï¼ˆçº¦10%é¢˜ç›®ï¼‰

**æ•ˆæœ**: 85.0% â†’ 93.32% (+9.8%)

### 3. æç¤ºè¯å·¥ç¨‹ä¼˜åŒ–

**ä¼˜åŒ–å‰**:
```
ä½œä¸ºLDOè®¾è®¡ä¸“å®¶ï¼Œè¯·åˆ†æï¼š
Question: {question}
Options: {options}
LDOåˆ†æï¼š
Answer:
```

**ä¼˜åŒ–å**:
```
You are an LDO circuit expert. Analyze LDO circuits by checking:
1. Pass transistor (source fixed at VDD)
2. Error amplifier (compares VREF with feedback)
3. Stable bandgap reference
4. Resistive divider feedback network

Examples:
[Few-shot examples]

Now solve this:
Question: {question}
Options: {options}
Answer:
```

### 4. ç”Ÿæˆå‚æ•°ä¼˜åŒ–

æ‰€æœ‰ä»»åŠ¡ç»Ÿä¸€ä½¿ç”¨ç¡®å®šæ€§å‚æ•°ï¼š
```json
{
  "max_new_tokens": 1,
  "temperature": 0.0,
  "do_sample": false,
  "repetition_penalty": 1.0,
  "top_p": 1.0,
  "top_k": 1,
  "use_cache": true
}
```

**æ•ˆæœ**: æ¨ç†é€Ÿåº¦æå‡10-30å€ï¼Œå‡†ç¡®ç‡æå‡ï¼ˆæ¶ˆé™¤éšæœºæ€§ï¼‰

---

## ğŸ“– ä½¿ç”¨æ–¹æ³•

### 1. åŠ è½½ä¼˜åŒ–é…ç½®

```python
import json

# åŠ è½½LDO/Comparator/Captionä¼˜åŒ–é…ç½®
with open('results/reasoningv_latest_optimization_results.json', 'r') as f:
    config = json.load(f)

# è·å–LDOä»»åŠ¡é…ç½®
ldo_config = config['optimization_results']['LDO']['strategy']
print(f"Few-shotç¤ºä¾‹æ•°: {ldo_config['num_examples']}")
print(f"ä¸“å®¶æŒ‡å¯¼: {ldo_config['expert_instruction']}")
```

### 2. åŠ è½½TQAå¤šç­–ç•¥é…ç½®

```python
# åŠ è½½TQAå¤šç­–ç•¥é…ç½®
with open('results/reasoningv_tqa_pattern_optimization_results.json', 'r') as f:
    tqa_data = json.load(f)

# è·å–ç­–ç•¥æ˜ å°„
strategy_map = tqa_data['optimization_results']['result']['strategy_map']
print(f"å…±æœ‰ {len(strategy_map)} ä¸ªé¢˜ç›®ä½¿ç”¨ç‰¹å®šç­–ç•¥")
```

### 3. è¿è¡Œå®Œæ•´éªŒè¯æµ‹è¯•

```bash
cd scripts
python ReasoningVå®Œæ•´éªŒè¯æµ‹è¯•.py <model_path>
```

---

## ğŸ“š è¯¦ç»†æ–‡æ¡£

- **[ä¸¤æ¬¡ä¼˜åŒ–å®Œæ•´æ€»ç»“.md](docs/ä¸¤æ¬¡ä¼˜åŒ–å®Œæ•´æ€»ç»“.md)**: â­ **æ¨èé˜…è¯»** - å®Œæ•´çš„ä¸¤æ¬¡ä¼˜åŒ–å†ç¨‹æ€»ç»“ï¼ŒåŒ…å«åŸºçº¿ã€ç¬¬ä¸€æ¬¡ä¼˜åŒ–ã€ç¬¬äºŒæ¬¡ä¼˜åŒ–çš„è¯¦ç»†å¯¹æ¯”å’Œå®é™…æ¡ˆä¾‹
- **[ä¼˜åŒ–æ€»ç»“.md](docs/ä¼˜åŒ–æ€»ç»“.md)**: å®Œæ•´çš„ä¼˜åŒ–æ€»ç»“æŠ¥å‘Šï¼ŒåŒ…å«æ‰€æœ‰ä¼˜åŒ–ç­–ç•¥çš„è¯¦ç»†è¯´æ˜
- **[ä¼˜åŒ–å‰åå®é™…æ¡ˆä¾‹å¯¹æ¯”.md](docs/ä¼˜åŒ–å‰åå®é™…æ¡ˆä¾‹å¯¹æ¯”.md)**: é€šè¿‡å®é™…é¢˜ç›®ç¤ºä¾‹å±•ç¤ºä¼˜åŒ–å‰åçš„å¯¹æ¯”æ•ˆæœ
- **[é”™è¯¯ç±»å‹ä¸ä¼˜åŒ–ç­–ç•¥å…³ç³»è¯¦è§£.md](docs/é”™è¯¯ç±»å‹ä¸ä¼˜åŒ–ç­–ç•¥å…³ç³»è¯¦è§£.md)**: é”™è¯¯æ¨¡å¼åˆ†æä¸é’ˆå¯¹æ€§ç­–ç•¥è®¾è®¡
- **[TQAä¼˜åŒ–åé”™è¯¯éš¾åº¦åˆ†å¸ƒçœŸå®ç»“æœæŠ¥å‘Š.md](docs/TQAä¼˜åŒ–åé”™è¯¯éš¾åº¦åˆ†å¸ƒçœŸå®ç»“æœæŠ¥å‘Š.md)**: TQAä»»åŠ¡é”™è¯¯åˆ†å¸ƒåˆ†æ
- **[ä¼˜åŒ–åŸç†ä¸ç¤ºä¾‹è¯¦è§£.md](docs/ä¼˜åŒ–åŸç†ä¸ç¤ºä¾‹è¯¦è§£.md)**: ä¼˜åŒ–åŸç†ä¸å…·ä½“ç¤ºä¾‹

---

## ğŸ” å…³é”®å‘ç°

### 1. Few-shot å­¦ä¹ æ˜¯æœ€æœ‰æ•ˆçš„ä¼˜åŒ–ç­–ç•¥

- LDO: Few-shotæå‡35.6%ï¼ˆ46% â†’ 81.6%ï¼‰
- Comparator: Few-shotæå‡16.0%ï¼ˆ60% â†’ 76%ï¼‰
- Caption: Few-shotæå‡28.77%ï¼ˆ32.5% â†’ 61.27%ï¼‰

### 2. ç¤ºä¾‹æ•°é‡éœ€è¦é’ˆå¯¹ä»»åŠ¡ä¼˜åŒ–

- LDO: 3ä¸ªç¤ºä¾‹æœ€ä½³
- Comparator: 2ä¸ªç¤ºä¾‹è¶³å¤Ÿ
- Caption: 8ä¸ªç¤ºä¾‹æœ€ä½³

### 3. é”™è¯¯æ¨¡å¼åˆ†ææŒ‡å¯¼é’ˆå¯¹æ€§ä¼˜åŒ–

- TQAä»»åŠ¡é€šè¿‡é”™è¯¯åˆ†æå‘ç°ç‰¹å®šæ··æ·†æ¨¡å¼ï¼ˆBâ†’A, Aâ†’Cç­‰ï¼‰
- é’ˆå¯¹ä¸åŒé”™è¯¯æ¨¡å¼ä½¿ç”¨ä¸åŒç­–ç•¥
- å¤šç­–ç•¥æ··åˆæ˜¾è‘—æå‡å‡†ç¡®ç‡ï¼ˆ85% â†’ 93.32%ï¼‰

### 4. ç¡®å®šæ€§å‚æ•°æé«˜å‡†ç¡®ç‡å’Œé€Ÿåº¦

- `temperature=0.0` ç¡®ä¿ç»“æœä¸€è‡´æ€§
- `max_new_tokens=1` å‡å°‘è®¡ç®—å¼€é”€
- é€Ÿåº¦æå‡10-30å€

---

## ğŸ“Š TQAä»»åŠ¡è¯¦ç»†ç»“æœ

### é”™è¯¯éš¾åº¦åˆ†å¸ƒï¼ˆä¼˜åŒ–åçœŸå®æµ‹è¯•ï¼‰

| éš¾åº¦çº§åˆ« | é¢˜ç›®æ€»æ•° | é”™è¯¯æ•° | é”™è¯¯ç‡ | å‡†ç¡®ç‡ |
|---------|---------|--------|--------|--------|
| **Unknown** | 100 | 22é¢˜ | 22.00% | 78.00% |
| **Undergraduate** | 526 | 26é¢˜ | 4.94% | 95.06% |
| **Graduate** | 619 | 24é¢˜ | 3.88% | 96.12% |
| **æ€»è®¡** | **1257** | **72é¢˜** | **5.73%** | **93.32%** |

### ä¼˜åŒ–å‰åå¯¹æ¯”

| éš¾åº¦çº§åˆ« | ä¼˜åŒ–å‰é”™è¯¯ç‡ | ä¼˜åŒ–åé”™è¯¯ç‡ | æ”¹å–„å¹…åº¦ |
|---------|------------|------------|---------|
| **Unknown** | 47.00% | 22.00% | -25.00% â¬‡ï¸ |
| **Undergraduate** | 12.03% | 4.94% | -7.09% â¬‡ï¸ |
| **Graduate** | 10.40% | 3.88% | -6.52% â¬‡ï¸ |
| **æ•´ä½“** | 14.00% | 6.68% | -7.32% â¬‡ï¸ |

---

## ğŸ“ å¼•ç”¨

å¦‚æœæ‚¨ä½¿ç”¨äº†æœ¬é¡¹ç›®çš„ä¼˜åŒ–ç»“æœï¼Œè¯·å¼•ç”¨ï¼š

```bibtex
@misc{reasoningv_amsbench_optimization,
  title={ReasoningV-7B AMSBench Optimization Results},
  author={Gengfei Li},
  year={2025},
  url={https://github.com/gengfei-li/ReasoningV-analog-}
}
```

---

## ğŸ“ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ã€‚

---

## ğŸ‘¤ ä½œè€…

Gengfei Li

---

## ğŸ“§ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ GitHub Issues è”ç³»ã€‚

---

**æœ€åæ›´æ–°**: 2025-11-10

